/*! rxDataTable v0.5.42 by Stephen Golub(stephen.golub@rackspace.com) - https://github.com/rackerlabs/rxDataTable - New BSD License */

var app=angular.module("rxDataTable",[]);app.directive("rxDataTable",function(a,b,c,d,e,f){return{restrict:"E",replace:!0,templateUrl:"src/templates/rx-data-table.html",scope:{pagerObject:"=?",loadingData:"&",columnConfiguration:"=",columnDisplay:"=?",columnPresets:"=?",rowKey:"@",rowStyle:"&",itemName:"@",listOfData:"&",predicate:"=?",columnMultiSort:"@",notifyDuration:"@",columnReordering:"@",rowDetails:"&",rowDetailsClause:"@",rowPrefix:"&",rowPrefixClause:"@"},link:function(d,g){d.configurationVisible=!1,d.enableColumnMultiSort=_.isEmpty(d.columnMultiSort)?!1:d.columnMultiSort,d.enableColumnReordering=_.isEmpty(d.columnReordering)?!1:d.columnReordering,d.defaultNotificationDuration=_.isUndefined(d.notifyDuration)?3e3:parseInt(d.notifyDuration,10),d.isLoading=d.loadingData,_.isUndefined(d.pagerObject)&&(d.pagerObject=f.createInstance(),d.pagerObject.showAll=!0),_.isUndefined(d.columnPresets)&&(d.columnPresets=[{title:"Default View",config:[]}],_.forEach(d.columnConfiguration,function(a,b){this.columnPresets[0].config.push(b)},d)),_.isUndefined(d.columnDisplay)&&(d.columnDisplay={index:0}),d.showRowDetails=!_.isUndefined(d.rowDetails)&&_.isFunction(d.rowDetails()),d.canExpandRow=function(a){return d.showRowDetails&&!_.isEmpty(d.rowDetailsClause)?e(d.rowDetailsClause)(a):d.showRowDetails},d.currentRow="",d.toggleRow=function(a){var b,c=g[0],e=c.querySelector('.data-row[data-row-key="'+a+'"]');if(""!==d.currentRow?(b=c.querySelector('.data-row-details[data-row-key="'+d.currentRow+'"]'),c.removeChild(b)):(b=document.createElement("div"),b.classList.add("data-row-details")),b.innerHTML="",d.currentRow===a)d.currentRow="";else{b.setAttribute("data-row-key",a),d.currentRow=a;var f=d.rowDetails(),h=f(a);angular.element(b).append(h),angular.element(e).after(b)}},d.showRowDetails&&d.$watch("pagerObject",function(){""!==d.currentRow&&setTimeout(function(){var a=g[0].querySelector('.data-row-details[data-row-key="'+d.currentRow+'"]');a||(d.currentRow="")},100)},!0),d.showRowPrefix=!_.isUndefined(d.rowPrefix)&&_.isFunction(d.rowPrefix()),d.shouldHaveRowPrefix=function(a){return d.showRowPrefix&&!_.isEmpty(d.rowPrefixClause)?e(d.rowPrefixClause)(a):d.showRowPrefix},d.buildContent=function(a,b){return _.has(b,"contentFunction")?_.memoize(b.contentFunction)(a):void 0},d.buildLink=function(a,b){return _.has(b,"linkField")&&_.has(a,b.linkField)?a[b.linkField]:_.has(b,"linkFunction")&&_.isFunction(b.linkFunction)?b.linkFunction(a):void 0},d.getPredicate=function(){return d.predicate===!1?(d.disableSorting=!0,[]):(_.isArray(d.predicate)||(d.predicate=[d.compilePredicateString(d.getConfig()[0])]),d.predicate)},d.canAddNewMultiSort=function(){var a=d.getPredicate();return _.isEmpty(_.last(a))?!1:a.length<d.columnConfiguration.length},d.getSortField=function(a){return _.isObject(a)?(a.sortField||a.sortField!==!1)&&a.sortField||a.dataField:void 0},d.allowEditing=function(a,b){return _.has(a,"editable")&&a.editable.clause(b)},d.getEditType=function(a,b){if(d.allowEditing(a,b)){var c=a.editable;return _.has(c,"data")?"typeahead":_.has(c,"options")||_.has(c,"dataOptions")?"select":"text"}return!1},d.getNGClass=function(a,b){var c={};_.has(a,"editable")&&_.has(a.editable,"nullable")&&(c.nullable=a.editable.nullable);var e=d.sortClass(a);if(_.isEmpty(e)||(c[e]=!0),_.has(a,"ng-class")&&_.isFunction(a["ng-class"])){var f=a["ng-class"],g=f(b);_.isEmpty(g)||(c[g]=!0)}else _.has(a,"ng-class")&&_.isObject(a["ng-class"])&&(c=angular.extend(c,a["ng-class"]));return c},d.getEditableOptions=function(a,b,c){if(_.has(a,"editable")){var d,e=a.editable;if(_.has(e,"data"))return d=e.data(b,c),_.isObject(d)?d:[];if(_.has(e,"dataOptions"))return d=e.dataOptions(b,c),_.isObject(d)?d:[];if(_.has(e,"options"))return e.options}return[]},d.nullField=function(a,b,c){_.has(a.editable,"nullable")&&a.editable.nullable&&d.updateField(a,b,null,c)},d.showStatusMessage=function(a,c,e){_.isUndefined(e)&&(e=d.defaultNotificationDuration),d.updateFieldStatus={status:a,message:c},_.isNumber(e)&&b(d.clearStatusMessage.bind(d),e)},d.clearStatusMessage=function(){d.updateFieldStatus=void 0},d.updateField=function(c,e,f){if(!_.has(c.editable,"endpoint"))return _.has(c.editable,"method")?c.editable.method(c,e,f):!1;d.showStatusMessage("saving",'Saving value for "'+c.title+'"',!1);var g=a[c.editable.endpoint.method],h={};h[c.dataField]=f;for(var i=c.editable.endpoint.url,j=/\{(\w+)\}/.exec(i);j;)i=i.replace(j[0],e[j[1]]),j=/\{(\w+)\}/.exec(i);return _.has(c.editable,"preUpdate")&&_.isFunction(c.editable.preUpdate)&&!c.editable.preUpdate(c,e,f)?void d.showStatusMessage("error","There was an error running the pre update method and the data was not saved."):g(i,h).then(function(){return d.showStatusMessage("success",'Saved data for "'+c.title+'" field'),e[c.dataField]=_.clone(f),_.has(c.editable,"postUpdateSuccess")&&_.isFunction(c.editable.postUpdateSuccess)&&c.editable.postUpdateSuccess(c,e,f),!0},function(a){var b='Error saving data for "'+c.title+'" field';return _.has(a.data,"error")&&(b+="\n"+a.data.error),d.$emit("data-table-error",b),_.has(c.editable,"postUpdateError")&&_.isFunction(c.editable.postUpdateError)&&c.editable.postUpdateError(c,e,a),!1}).then(function(){return b(d.clearStatusMessage.bind(d),d.defaultNotificationDuration),!0})},d.$on("data-table-error",function(a,c,e){_.isNumber(e)||(e=d.defaultNotificationDuration),d.showStatusMessage("error",c,e),b(function(){d.updateFieldStatus=void 0},e)}),d.iconUnwrap=function(a,b,c){return _.filter(a.icon,function(c){if(_.has(c,"fieldValue")){if(_.isArray(this.row[c.field])&&_.contains(this.row[c.field],c.fieldValue))return!0;if(c.fieldValue===this.row[c.field])return!0}return _.has(c,"fieldValues")?_.isArray(c.fieldValues)&&_.contains(c.fieldValues,this.row[c.field]):b[c.field]===!0?!0:_.has(c,"fieldMinLength")&&_.isArray(b[c.field])?b[c.field].length>=c.fieldMinLength:c.persistent===!0?!0:_.has(c,"editable")&&c.editable===!0?!_.isUndefined(a.editable)&&a.editable.clause(b):void 0},{row:b}).filter(function(a){return _.has(a,"name")&&"i"===this.type||_.has(a,"class")&&"div"===this.type?!0:void 0},{type:c})},d.rowClass=function(a){return!_.isUndefined(d.rowStyle)&&_.isFunction(d.rowStyle())?d.rowStyle()(a):void 0},d.hasValue=function(a,b){return _.isArray(b.dataField)?_.any(b.dataField,function(a){return _.has(this,a)&&!_.isEmpty(this,a)},a):_.has(a,b.dataField)&&!_.isEmpty(a,b.dataField)},d.decompilePredicateString=function(a){if(_.isArray(a))return a;var b=!1;return"-"===a.substr(0,1)&&(a=a.substr(1),b=!0),{column:a,reverse:b}},d.getPresetConfiguration=function(){return _.isNumber(d.columnDisplay.index)||(d.columnDisplay.index=0),d.isPresetCustom()||(d.columnDisplay.config=_.clone(d.getColumnPresets()[d.columnDisplay.index].config)),d.columnDisplay.config},d.getConfig=function(){var a=[];return _.forEach(d.getPresetConfiguration(),function(a){this.visibleColumns.push(this.columns[a])},{visibleColumns:a,columns:d.columnConfiguration}),a},d.getColumnPresets=function(){return _.isEmpty(d.columnPresets)&&(d.columnPresets=[]),d.columnPresets},d.markPresetAsCustom=function(){var a=d.getColumnPresets();_.find(a,{title:"User Preset"})?a[a.length-1].config=d.columnDisplay.config:a.push({title:"User Preset",config:d.columnDisplay.config}),_.isNumber(d.columnDisplay.index)&&(d.columnDisplay.index=a.length-1)},d.getColumnPresetSelects=_.memoize(function(){return _.map(d.getColumnPresets(),function(a,b){return{text:a.title,value:b}})},function(){return _.template("<%=length%>|<%=indices%>",{length:d.getColumnPresets().length,indices:_.last(d.getColumnPresets()).config})}),d.isPresetCustom=function(){return"User Preset"==d.getColumnPresets()[d.columnDisplay.index].title},d.moveColumn=function(a,b){d.isPresetCustom()||d.markPresetAsCustom();var c=d.columnDisplay.config.splice(a,1)[0];d.columnDisplay.config.splice(b,0,c)},d.moveColumnUp=function(a){a>0&&d.moveColumn(a,a-1)},d.moveColumnDown=function(a){a<d.columnDisplay.config.length-1&&d.moveColumn(a,a+1)},d.removeColumn=function(a){d.isPresetCustom()||d.markPresetAsCustom(),d.columnDisplay.config.splice(a,1)},d.showColumn=function(a){d.isPresetCustom()||d.markPresetAsCustom(),_.contains(d.columnDisplay.config,a)||d.columnDisplay.config.push(a)},d.getAvailableColumns=function(){return _.filter(d.columnConfiguration,function(a){return!_.contains(d.columnDisplay.config,a.id)})},d.findColumnFromPredicate=function(a){var b=_.find(d.getConfig(),function(a){return this.pred==this.getSortField(a)},{pred:a,getSortField:d.getSortField});return b||{}},d.parseReverseSort=function(a,b){return _.isObject(a)?a.sortReverse?!b:b:d.parseReverseSort(d.findColumnFromPredicate(a),b)},d.compilePredicateString=function(a,b,c){var e=c?a:d.getSortField(a);return(d.parseReverseSort(a,b)?"-":"")+e},d.singleColumnSort=function(a){d.pagerObject.pageNumber=0,d.sortedBy(a)?d.predicate=[d.compilePredicateString(a,!0)]:d.predicate=[d.compilePredicateString(a)],angular.element(document).data("sortingData",d.getPredicate())},d.addColumnSort=function(a){var b=d.getSortedIndex(a);-1===b?(b=d.getSortedIndex(a,!0),b>=0?d.getPredicate().length>1?d.predicate.splice(b,1):d.predicate[b]=d.compilePredicateString(a):d.predicate.push(d.compilePredicateString(a))):d.predicate[b]=d.compilePredicateString(a,!0)},d.sortable=function(a){return _.isObject(a)?d.disableSorting&&_.has(a,"sortField")?!0:d.disableSorting||a.sortField===!1?!1:!0:!1},d.sort=function(a,b){d.sortable(b)&&(a.shiftKey?d.addColumnSort(b):d.singleColumnSort(b))},d.sortClass=function(a){var b=d.getSortedIndex(a);return-1===b&&(b=d.getSortedIndex(a,!0)),b>=0?"sorted-"+b+"-"+(d.sortedBy(a)?"asc":"desc"):void 0},d.getSortedIndex=function(a,b){var c=d.compilePredicateString(a,b);return d.getPredicate().indexOf(c)},d.isOverflowActive=function(a){return a.offsetWidth<a.scrollWidth},d.hoverTimeouts={},d.cellMouseEnter=function(a){var c=a.target,e=c.parentElement.className+c.className,f=c.querySelector(".data-cell-content");_.has(d.hoverTimeouts,e)&&b.cancel(d.hoverTimeouts[e]),d.hoverTimeouts[e]=b(function(){if(!_.isEmpty(f)&&d.isOverflowActive(f)){var a=f.scrollWidth-f.offsetWidth,e=f.scrollHeight-f.offsetHeight,g=c.cloneNode(!0);g.classList.add("overflow-hover"),g.style.top=c.offsetTop+"px",g.style.left=c.offsetLeft+"px",g.style.width=c.offsetWidth+"px",g.style.height=c.offsetHeight+"px",b(function(){g.style.top=c.offsetTop-e/2+"px",g.style.left=c.offsetLeft-a/2+"px",g.style.width=c.offsetWidth+a+"px",g.style.height=c.scrollHeight+e+"px"},0),g.onmouseleave=function(){c.removeChild(g)},c.appendChild(g)}},500)},d.cellMouseLeave=function(a){var c=a.target,e=c.parentElement.className+c.className,f=c.querySelector(".data-cell .overflow-hover");if(_.has(d.hoverTimeouts,e)&&(b.cancel(d.hoverTimeouts[e]),delete d.hoverTimeouts[e]),f)try{c.removeChild(f)}catch(g){}},d.sortedBy=function(a,b){return d.getSortedIndex(a,b)>=0},d.reversePredicate=function(a){var b=d.decompilePredicateString(d.getPredicate()[a]);_.isEmpty(b.column)||(b.reverse=d.parseReverseSort(b.column,b.reverse),d.predicate[a]=d.compilePredicateString(b.column,!b.reverse,!0))},d.updatePredicate=function(a,b){var c=d.findColumnFromPredicate(b);_.isEmpty(c)||(d.predicate[a]=d.compilePredicateString(c))},d.removePredicate=function(a){d.getPredicate().length>1&&d.predicate.splice(a,1)},d.getSortableColumnSelects=function(){var a=[];return _.forEach(d.getConfig(),function(a){this.retObj.push({text:a.title,value:this.getSortField(a)})},{retObj:a,getSortField:d.getSortField}),_.filter(_.filter(a,"text"),"value")},d.toggleVisibility=function(a){void 0!==a?d.configurationVisible=a:d.configurationVisible=!d.configurationVisible},d.menuShown={},d.toggleMenu=function(a,b){d.isMenuShown(a,b)?d.menuShown={}:d.menuShown={col:b,row:a}},d.isMenuShown=function(a,b){return _.isUndefined(d.menuShown)&&(d.menuShown={}),_.isEqual(d.menuShown,{row:a,col:b})},d.executeAction=function(a,b){_.has(b,"action")&&_.isFunction(b.action)&&(b.action(a),d.menuShown={})},setTimeout(function(){var a=function(a){a.stopPropagation()};angular.element(g[0].querySelector(".data-table-config-container")).on("click",a),angular.element(g[0].querySelector(".menu-column")).on("click",a)},1),d.$watch(d.dataList,function(){var a=function(a){a.stopPropagation()};angular.element(g[0].querySelector(".menu-column")).on("click",a)},!0),c.on("click",function(){this.toggleVisibility(!1)}.bind(d)),d.enableColumnReordering&&!function(){d.dragTarget;var a=function(a){if(a&&(a=angular.element(a),!_.isUndefined(a.attr("class")))){var b=/data-header-cell/,c=/data-column/,d=a.attr("class");return b.test(d)&&c.test(d)}},b=function(a,b){var c,d=angular.element(a);if(b(d[0]))return d;for(;!_.isEmpty(d.parent());){var e=d.parent();if(!e)break;if(b(e[0])){c=e;break}d=e}return c=c?c:void 0};g.on("dragstart",function(a){d.dragTarget=a.target,a.dataTransfer.setData("text/plain",angular.element(d.dragTarget).text())}),g.on("dragend",function(a){d.dragTarget=void 0,a.preventDefault()}),g.on("dragover",function(c){var d=b(c.target,a),e=angular.element(c.target);_.isUndefined(d)||d===e||c.preventDefault()}),g.on("drop",function(c){c.preventDefault();var e=b(c.target,a),f=angular.element(d.dragTarget);if(e!==f){var g={from:void 0,to:void 0},h=function(a){if(a){var b=/data-column-(\d*)/;return b.test(a.attr("class"))?parseInt(b.exec(a.attr("class"))[1])-1:void 0}};g.from=h(f),g.to=h(e),d.moveColumn(g.from,g.to),d.$apply()}})}()}}}),app.filter("UnusedSorts",function(){return function(a,b,c,d){return _.filter(a,function(a){var b="";return _.isObject(a)&&(b=(a.sortField||a.sortField!==!1)&&a.sortField||a.dataField),_.isFunction(d)&&!d(a)?!1:c==b?!0:!(_.contains(this.predicate,b)||_.contains(this.predicate,"-"+b))},{predicate:b})}}),app.filter("ColumnValue",function(a){return function(b,c,d){var e={value:""};d=_.isUndefined(d)?!0:d;var f=_.has(c,"displayField")&&_.has(b,c.displayField)?c.displayField:c.dataField;return _.isArray(f)||(f=[f]),_.forEach(f,function(b,c,d){_.has(this.row,b)&&(_.has(this.column,"filter")?_.has(this.column,"filterParameters")?this.columnValue.value+=a(this.column.filter).apply(this,[this.row[b]].concat(this.column.filterParameters)):this.columnValue.value+=a(this.column.filter)(this.row[b]):this.columnValue.value+=this.row[b],c<d.length-1&&(this.columnValue.value+="\n"))},{columnValue:e,column:c,row:b}),e=e.value,d&&(e=_.isEmpty(e)&&_.has(c,"emptyValue")?c.emptyValue:e),e}}),app.filter("rxDataTableSorting",function(a){var b=a("orderBy");return function(a,c,d){return d.serverPaging?a:b(a,c)}}),angular.module("rxDataTable").directive("rxDataTablePaginate",function(){return{templateUrl:"src/templates/rx-data-table-paginate.html",restrict:"E",replace:!0,scope:{pageTracking:"=",numberOfPages:"@"},link:function(a){a.$watch(function(){return a.pageTracking.total},function(){a.pageTracking.pageNumber>=a.pageTracking.totalPages&&(a.pageTracking.pageNumber=0)})}}}).factory("PageTracking",function(){function a(a){this.MAX_PER_PAGE=50,this.MIN_PER_PAGE=10,this.ITEMS_PER_PAGE_STEP=10,this.itemsPerPage=10,this.pagesToShow=5,this.itemSizeList=[],this.pageNumber=0,this.pageInit=!1,this.total=0,this.serverPaging=!1,this.showAll=a?!0:!1}return{createInstance:function(b){return new a(b)}}}).directive("rxDataTableItemsPerPage",function(a){return{restrict:"E",replace:!0,templateUrl:"src/templates/rx-data-table-itemsPerPage.html",link:function(b){_.isUndefined(b.pagerObject)&&(b.pagerObject=a.createInstance()),b.pagerObject.pageInit||(b.pagerObject.pageInit=!0);try{b.updatePaging=function(a){_.isUndefined(a)?b.pagerObject.itemsPerPage=parseInt(b.pagerObject.itemsPerPage,10):b.pagerObject.itemsPerPage=parseInt(a),b.pagerObject.pageNumber=0}.bind(b)}catch(c){}b.pagerObject.itemSizeList=_.range(b.pagerObject.MIN_PER_PAGE,b.pagerObject.MAX_PER_PAGE+b.pagerObject.ITEMS_PER_PAGE_STEP,b.pagerObject.ITEMS_PER_PAGE_STEP)}}}).filter("Paginate",function(a){return function(b,c){if(c||(c=a.createInstance()),c.showAll)return c.total=b.length,b;if(b){c.serverPaging?_.isNumber(c.total)||(c.total=0):c.total=b.length,c.totalPages=Math.ceil(c.total/c.itemsPerPage);var d=c.serverPaging?1:0,e=c.pageNumber*c.itemsPerPage,f=e+c.itemsPerPage,g=(f>b.length?b.length:f)-d;return c.first=parseInt(e+1,10),c.last=parseInt(g,10),c.serverPaging&&(c.last+=c.first),c.serverPaging?b:b.slice(e,g)}}}).filter("Page",function(a){return function(b){b||(b=a.createInstance());var c=[],d=b.pagesToShow||5,e=(d-1)/2,f=Math.ceil(e),g=Math.floor(e);if(b&&0!==b.length){var h=Math.max(Math.min(b.pageNumber-g,b.totalPages-d),0),i=Math.min(Math.max(b.pageNumber+f,d-1),b.totalPages-1);for(h;i>=h;h++)c.push(h)}return c}}),angular.module("rxDataTable").run(["$templateCache",function(a){a.put("src/templates/rx-data-table-itemsPerPage.html",'<span class="pagination-items-per-page"> Show: <a ng-repeat-start="i in pagerObject.itemSizeList" ng-click="updatePaging(i)" ng-class="{ disabled: pagerObject.itemsPerPage===i }">{{ i }}</a> <span ng-repeat-end ng-show="!$last">|</span> </span> '),a.put("src/templates/rx-data-table-paginate.html",'<ul class="pagination"> <li ng-class="{disabled: pageTracking.pageNumber==0}" class="pagination-first"> <a ng-click="pageTracking.pageNumber=0" ng-hide="pageTracking.pageNumber==0">First</a> <span ng-show="pageTracking.pageNumber==0">First</span> </li> <li ng-class="{disabled: pageTracking.pageNumber==0}" class="pagination-prev"> <a ng-click="pageTracking.pageNumber=(pageTracking.pageNumber - 1)" ng-hide="pageTracking.pageNumber==0">« Prev</a> <span ng-show="pageTracking.pageNumber==0">« Prev</span> </li> <li ng-repeat="n in pageTracking | Page " ng-class="{active: n==pageTracking.pageNumber, \'page-number-last\': n==pageTracking.totalPages - 1}" class="pagination-page"> <a ng-click="pageTracking.pageNumber=n">{{n + 1}}</a> </li> <li ng-class="{disabled: pageTracking.pageNumber==pageTracking.totalPages - 1 || pageTracking.total==0}" class="pagination-next"> <a ng-click="pageTracking.pageNumber=(pageTracking.pageNumber + 1)" ng-hide="pageTracking.pageNumber==pageTracking.totalPages - 1 || pageTracking.total==0"> Next »</a> <span ng-show="pageTracking.pageNumber==pageTracking.totalPages - 1">Next »</span> </li> <li ng-class="{disabled: pageTracking.pageNumber==pageTracking.totalPages - 1}" class="pagination-last"> <a ng-click="pageTracking.pageNumber=pageTracking.totalPages - 1" ng-hide="pageTracking.pageNumber==pageTracking.totalPages - 1">Last</a> <span ng-show="pageTracking.pageNumber==pageTracking.totalPages - 1">Last</span> </li> </ul> '),a.put("src/templates/rx-data-table.html",'<div class="data-table"> <div class=\'alert\' ng-show="updateFieldStatus" ng-class="{\'loading\': updateFieldStatus.status==\'saving\', \'success\': updateFieldStatus.status==\'success\', \'error\': updateFieldStatus.status==\'error\'}"> {{ updateFieldStatus.message }} </div> <div class="data-info-row"> <div class="data-table-config-container" ng-if="enableColumnReordering||enableColumnMultiSort" ng-class="{\'dropdown-shown\': configurationVisible}"> <button class="btn-link" ng-click="toggleVisibility()"> <i class="fa fa-table data-table-config-icon" title="Configure Data Table"></i> </button> <div class="data-table-config reveal-animation" ng-show="configurationVisible"> <div class="header" ng-if="enableColumnMultiSort">Sorting</div> <div class="data-table-multi-sort" ng-if="enableColumnMultiSort"> <div class="data-config-row"> <div class="multi-sort-select header">Column</div> <div class="multi-sort-reverse-icon header">Dir</div> <div class="multi-sort-remove-icon header"><span ng-show="predicate.length> 1">Rem</span></div> </div> <div class="data-config-row" ng-repeat="pred in predicate" ng-init="predColumn=decompilePredicateString(pred)"> <div class="multi-sort-select"> <select rx-select name="sort-{{$index}}" ng-model="predColumn.column" ng-change="updatePredicate($index, predColumn.column)"> <option ng-repeat="column in getConfig() | UnusedSorts:predicate:predColumn.column:sortable" value="{{ getSortField(column) }}" ng-selected="getSortField(column)==predColumn.column">{{ column.title }}</option> </select> </div> <button class="btn-link multi-sort-reverse-icon" ng-click="reversePredicate($index)"> <i class="fa" ng-class="{\'fa-sort-amount-asc\': !parseReverseSort(predColumn.column, predColumn.reverse), \'fa-sort-amount-desc\': parseReverseSort(predColumn.column, predColumn.reverse)}"></i> </button> <div class="multi-sort-remove-icon"> <button class="btn-link" ng-click="removePredicate($index)"> <i class="fa fa-times" ng-if="predicate.length> 1"></i> </button> </div> </div> <button class="btn-link multi-sort-add" ng-if="canAddNewMultiSort()" ng-click="predicate.push(\'\')"> Add New Sort </button> </div> <div class="header" ng-if="enableColumnReordering">Column Configuration</div> <div class="data-table-column-display" ng-if="enableColumnReordering"> <div class="data-config-row"> <div class="header">Column Presets</div> </div> <div class="data-config-row column-preset-row"> <select rx-select ng-options="getColumnPresets().indexOf(preset) as preset.title for preset in getColumnPresets()" ng-model="columnDisplay.index"></select> </div> <div class="data-config-row"> <div class="header">Column Order</div> </div> <div class="data-config-row" ng-repeat="column in getConfig()"> <div class="data-config-column-title"> {{ column.title }} </div> <div class="column-order-arrows"> <button class="btn-link btn-move-down" ng-if="!$last" ng-click="moveColumnDown($index)"> <i class="fa fa-arrow-down"></i> </button> <button class="btn-link btn-move-up" ng-if="!$first" ng-click="moveColumnUp($index)"> <i class="fa fa-arrow-up"></i> </button> </div> <div class="column-hide-display"> <button class="btn-link" ng-click="removeColumn($index)"> <i class="fa fa-times"></i> </button> </div> </div> <div class="data-config-row" ng-if="getAvailableColumns().length> 0"> <div class="header">Available Columns</div> </div> <div class="data-config-row column-show-columns" ng-if="getAvailableColumns().length> 0"> <select rx-select ng-model="addColumn.index" ng-options="column.id as column.title for column in getAvailableColumns()"> </select> <button ng-click="showColumn(addColumn.index)" class="button button-tiny">add</button> </div> </div> </div> </div> </div> <div class="data-header"> <div class="data-header-cell data-column-{{ $index + 1 }} flex-columns-{{ column.cols }}" ng-repeat="column in getConfig()" data-title="{{ column.title && column.title || column.dataField }}" ng-class="sortClass(column, $index)" draggable="true"> <span class="checkbox-span" ng-if="column.checkbox && column.checkAll"> <input ng-click="checkAll(this)" type="checkbox" id="check_all_checkbox"> </span> <button ng-if="!column.checkbox" ng-click="sort($event, column)" class="btn-link data-link" popover="{{ column.help.body }}" popover-append-to-body="true" popover-popup-delay="1500" popover-title="{{ column.help.title }}" popover-trigger="mouseenter"> <span class=\'data-header-cell-content\'>{{ column.title }}</span> <i ng-if="column.help" class="fa fa-question-circle"></i> <i class="fa fa-chevron-down" ng-show="sortedBy(column, true)"></i> <i class="fa fa-chevron-up" ng-show="sortedBy(column)"></i> </button> </div> <div class="data-header-cell data-header-expander" ng-if="showRowDetails"></div> </div> <div class="data-loader" ng-if="loadingData()"> <div class="spinner-container"> <div class="spinner"></div> <div class="loader-text">Loading...</div> </div> </div> <div class="data-row data-row-{{ $index + 1}}" ng-repeat="row in listOfData() | rxDataTableSorting:predicate:pagerObject | Paginate:pagerObject track by row[rowKey]||$index" data-row-key="{{row[rowKey]}}" ng-class="rowClass(row)"> <div class="data-row-prefix" ng-if="showRowPrefix"> <div class="prefix-container" ng-if="shouldHaveRowPrefix(row)" ng-bind-html="rowPrefix()(row)"> </div> </div> <div class="data-cell flex-columns-{{ column.cols }} data-column-{{ $index + 1}} {{ column.class }}" ng-repeat="column in getConfig()" data-title="{{ column.title }}" ng-class="getNGClass(column, row)" ng-mouseenter="cellMouseEnter($event)" ng-mouseleave="cellMouseLeave($event)"> <div ng-if="column.checkbox" class="checkbox"> <input type="checkbox" value="{{ row[column.dataField] }}" ng-click="clickAction(\'{{ row[column.dataField] }}\')" id="checkbox_{{ row[column.dataField] }}"> </div> <div ng-if="column.menu" class="menu-column"> <button class="menu-toggle btn-link" ng-click="toggleMenu(row, column)"> <i ng-if="!column.menu.icon" class="fa fa-cog fa-lg"></i> <i ng-if="column.menu.icon" class="fa" ng-class="column.menu.icon"></i> </button> <ul class="menu-items" ng-show="isMenuShown(row, column)"> <li class="menu-item" ng-repeat="menuItem in column.menu.items"> <button class="btn-link" ng-class="menuItem.class" ng-click="executeAction(row, menuItem)"> <i ng-if="menuItem.icon" class="fa" ng-class="menuItem.icon"></i> <span class="menu-item-text">{{ menuItem.text }}</span> </button> </li> </ul> </div> <div ng-if="!column.checkbox && !column.menu"> <i ng-repeat="icon in iconUnwrap(column, row, \'i\')" class="data-table-cell-icon {{ icon.name }}" tooltip="{{ icon.tooltip.text }}" tooltip-placement="{{ (icon.tooltip.placement) ? icon.tooltip.placement : \'top\' }}"></i> <div ng-repeat="icon in iconUnwrap(column, row, \'div\')" class="data-table-cell-icon {{ icon.class }}" alt="{{ icon.alt }}" tooltip="{{ icon.tooltip.text }}" tooltip-placement="{{ (icon.tooltip.placement) ? icon.tooltip.placement : \'top\' }}"></div> <span ng-if="buildContent(row, column)" class="data-cell-content" ng-bind-html="buildContent(row, column)"></span> <a ng-if="!buildContent(row, column) && buildLink(row, column) && hasValue(row, column)" href="{{ buildLink(row, column) }}" class="data-cell-content" target="{{ (column.linkTarget) ? column.linkTarget : \'_blank\' }}">{{ row | ColumnValue:column }}</a> <span ng-if="!buildContent(row, column) && !buildLink(row, column) && hasValue(row, column)" class="data-cell-content"> <span ng-if="!allowEditing(column,row)">{{ row | ColumnValue:column:false }}</span> <span ng-if="allowEditing(column,row)" class="data-editable"> <span ng-switch="getEditType(column, row)"> <span ng-switch-when="select" class="data-editable-field" editable-select="row[column.dataField]" e-ng-options="o.value as o.text for o in getEditableOptions(column, row)" buttons="no" onbeforesave="updateField(column, row, $data, this)">{{ row | ColumnValue:column }}</span> <span ng-switch-when="typeahead" class="data-editable-field" editable-text="row[column.dataField]" e-typeahead="o.value as o.text for o in getEditableOptions(column, row, $viewValue) | filter:$viewValue" e-typeahead-on-select="updateField(column, row, $data, this)" buttons="no" onshow="getEditableOptions(column, row)">{{ row | ColumnValue:column }}</span> <span ng-switch-default class="data-editable-field" editable-text="row[column.dataField]" onbeforesave="updateField(column, row, $data, this)">{{ row | ColumnValue:column }}</span> <button class="data-table-field-nullable btn-link" ng-if="column.editable.nullable" ng-click="nullField(column, row, this)" title="Remove {{ column.title }} Value"> <i class="fa fa-times fa-lg"></i> </button> </span> </span> </span> </div> </div> <div class="data-row-expander" ng-if="showRowDetails"> <button class="data-row-expansion" ng-show="canExpandRow(row)" ng-click="toggleRow(row[rowKey])" ng-class="{\'expanded\': currentRow==row[rowKey]}"> <div class="expander-icon"></div> &nbsp; </button> </div> </div> <div ng-if="!pagerObject.showAll" class="pagination-container" ng-show="pagerObject.total> 0"> <div class="cell"><span ng-if="!pagerObject.showAll">{{(pagerObject.last == 0) ? \'0\' : pagerObject.first}} - {{pagerObject.last}} of <span class=\'total-data-items\'>{{pagerObject.total}} {{ itemName && itemName || \'Items\' }}</span></span></div> <div class="cell"><rx-data-table-paginate page-tracking="pagerObject"></rx-data-table-paginate></div> <div class="cell"><rx-data-table-items-per-page></rx-data-table-items-per-page></div> </div> </div> ')}]);
//# sourceMappingURL=dist/scripts/rx-data-table.min.map