/*! rxDataTable v0.5.49 by Stephen Golub(stephen.golub@rackspace.com) - https://github.com/rackerlabs/rxDataTable - New BSD License */

var app=angular.module("rxDataTable",[]);app.directive("rxDataTable",function(a,b,c,d,e,f){return{restrict:"E",replace:!0,templateUrl:"src/templates/rx-data-table.html",scope:{pagerObject:"=?",loadingData:"&",columnConfiguration:"=",columnDisplay:"=?",columnPresets:"=?",rowKey:"@",rowStyle:"&",itemName:"@",listOfData:"&",predicate:"=?",columnMultiSort:"@",notifyDuration:"@",columnReordering:"@",rowDetails:"&",rowDetailsClause:"@",rowPrefix:"&",rowPrefixClause:"@"},link:function(g,h){g.configurationVisible=!1,g.enableColumnMultiSort=_.isEmpty(g.columnMultiSort)?!1:g.columnMultiSort,g.enableColumnReordering=_.isEmpty(g.columnReordering)?!1:g.columnReordering,g.defaultNotificationDuration=_.isUndefined(g.notifyDuration)?3e3:parseInt(g.notifyDuration,10),g.isLoading=g.loadingData,_.isUndefined(g.pagerObject)&&(g.pagerObject=f.createInstance(),g.pagerObject.showAll=!0),_.isUndefined(g.columnPresets)&&(g.columnPresets=[{title:"Default View",config:[]}],_.forEach(g.columnConfiguration,function(a,b){this.columnPresets[0].config.push(b)},g)),_.isUndefined(g.columnDisplay)&&(g.columnDisplay={index:0}),g.showRowDetails=!_.isUndefined(g.rowDetails)&&_.isFunction(g.rowDetails()),g.canExpandRow=function(a){return g.showRowDetails&&!_.isEmpty(g.rowDetailsClause)?e(g.rowDetailsClause)(a):g.showRowDetails},g.currentRow="",g.toggleRow=function(a){var b,c=h[0],d=c.querySelector('.data-row[data-row-key="'+a+'"]');if(""!==g.currentRow?(b=c.querySelector('.data-row-details[data-row-key="'+g.currentRow+'"]'),c.removeChild(b)):(b=document.createElement("div"),b.classList.add("data-row-details")),b.innerHTML="",g.currentRow===a)g.currentRow="";else{b.setAttribute("data-row-key",a),g.currentRow=a;var e=g.rowDetails(),f=e(a);angular.element(b).append(f),angular.element(d).after(b)}},g.showRowDetails&&g.$watch("pagerObject",function(){""!==g.currentRow&&setTimeout(function(){var a=h[0].querySelector('.data-row-details[data-row-key="'+g.currentRow+'"]');a||(g.currentRow="")},100)},!0),g.showRowPrefix=!_.isUndefined(g.rowPrefix)&&_.isFunction(g.rowPrefix()),g.shouldHaveRowPrefix=function(a){return g.showRowPrefix&&!_.isEmpty(g.rowPrefixClause)?e(g.rowPrefixClause)(a):g.showRowPrefix},g.buildContent=function(a,b){return _.has(b,"contentFunction")?_.memoize(b.contentFunction)(a):void 0},g.buildLink=function(a,b){return _.has(b,"linkField")&&_.has(a,b.linkField)?a[b.linkField]:_.has(b,"linkFunction")&&_.isFunction(b.linkFunction)?b.linkFunction(a):void 0},g.getPredicate=function(){return g.predicate===!1?(g.disableSorting=!0,[]):(_.isArray(g.predicate)||(g.predicate=[g.compilePredicateString(g.getConfig()[0])]),g.predicate)},g.canAddNewMultiSort=function(){var a=g.getPredicate();return _.isEmpty(_.last(a))?!1:a.length<g.columnConfiguration.length},g.getSortField=function(a){return _.isObject(a)?(a.sortField||a.sortField!==!1)&&a.sortField||a.dataField:void 0},g.allowEditing=function(a,b){return _.has(a,"editable")&&a.editable.clause(b)},g.getEditType=function(a,b){if(g.allowEditing(a,b)){var c=a.editable;return _.has(c,"data")?"typeahead":_.has(c,"options")||_.has(c,"dataOptions")?"select":"text"}return!1},g.getNGClass=function(a,b){var c={};_.has(a,"editable")&&_.has(a.editable,"nullable")&&(c.nullable=a.editable.nullable);var d=g.sortClass(a);if(_.isEmpty(d)||(c[d]=!0),_.has(a,"ng-class")&&_.isFunction(a["ng-class"])){var e=a["ng-class"],f=e(b);_.isEmpty(f)||(c[f]=!0)}else _.has(a,"ng-class")&&_.isObject(a["ng-class"])&&(c=angular.extend(c,a["ng-class"]));return c},g.getEditableOptions=function(a,b,c){if(_.has(a,"editable")){var d,e=a.editable;if(_.has(e,"data"))return d=e.data(b,c),_.isObject(d)?d:[];if(_.has(e,"dataOptions"))return d=e.dataOptions(b,c),_.isObject(d)?d:[];if(_.has(e,"options"))return e.options}return[]},g.nullField=function(a,b,c){_.has(a.editable,"nullable")&&a.editable.nullable&&g.updateField(a,b,null,c)},g.showStatusMessage=function(a,c,d){_.isUndefined(d)&&(d=g.defaultNotificationDuration),g.updateFieldStatus={status:a,message:c},_.isNumber(d)&&b(g.clearStatusMessage.bind(g),d)},g.clearStatusMessage=function(){g.updateFieldStatus=void 0},g.updateField=function(c,d,e){if(!_.has(c.editable,"endpoint"))return _.has(c.editable,"method")?c.editable.method(c,d,e):!1;g.showStatusMessage("saving",'Saving value for "'+c.title+'"',!1);var f=a[c.editable.endpoint.method],h={};h[c.dataField]=e;for(var i=c.editable.endpoint.url,j=/\{(\w+)\}/.exec(i);j;)i=i.replace(j[0],d[j[1]]),j=/\{(\w+)\}/.exec(i);return _.has(c.editable,"preUpdate")&&_.isFunction(c.editable.preUpdate)&&!c.editable.preUpdate(c,d,e)?void g.showStatusMessage("error","There was an error running the pre update method and the data was not saved."):f(i,h).then(function(){return g.showStatusMessage("success",'Saved data for "'+c.title+'" field'),d[c.dataField]=_.clone(e),_.has(c.editable,"postUpdateSuccess")&&_.isFunction(c.editable.postUpdateSuccess)&&c.editable.postUpdateSuccess(c,d,e),!0},function(a){var b='Error saving data for "'+c.title+'" field';return _.has(a.data,"error")&&(b+="\n"+a.data.error),g.$emit("data-table-error",b),_.has(c.editable,"postUpdateError")&&_.isFunction(c.editable.postUpdateError)&&c.editable.postUpdateError(c,d,a),!1}).then(function(){return b(g.clearStatusMessage.bind(g),g.defaultNotificationDuration),!0})},g.$on("data-table-error",function(a,c,d){_.isNumber(d)||(d=g.defaultNotificationDuration),g.showStatusMessage("error",c,d),b(function(){g.updateFieldStatus=void 0},d)}),g.scoreTooltipTemplate=function(a){var b=["Waiting on Racker for ",d("rxAge")(a.score.lastResponseTime,3,!0),"Score: ","-(",a.score.weight," * ","(",a.score.maxResponseTime," - ",a.score.elapsedTime,") / ",a.score.threshold,")"];return b.join(" ")},g.maxResponseCalculation=function(a){var b=[a.account_tier||"",a.score.type,"for ticket is ",d("rxAge")(moment().subtract(a.score.maxResponseTime,"seconds"),2,!0)];return b.join(" ")},g.iconUnwrap=function(a,b,c){return _.filter(a.icon,function(c){if(_.has(c,"fieldValue")){if(_.isArray(this.row[c.field])&&_.contains(this.row[c.field],c.fieldValue))return!0;if(c.fieldValue===this.row[c.field])return!0}return _.has(c,"fieldValues")?_.isArray(c.fieldValues)&&_.contains(c.fieldValues,this.row[c.field]):b[c.field]===!0?!0:_.has(c,"fieldMinLength")&&_.isArray(b[c.field])?b[c.field].length>=c.fieldMinLength:c.persistent===!0?!0:_.has(c,"editable")&&c.editable===!0?!_.isUndefined(a.editable)&&a.editable.clause(b):void 0},{row:b}).filter(function(a){return _.has(a,"name")&&"i"===this.type||_.has(a,"class")&&"div"===this.type?!0:void 0},{type:c})},g.rowClass=function(a){return!_.isUndefined(g.rowStyle)&&_.isFunction(g.rowStyle())?g.rowStyle()(a):void 0},g.hasValue=function(a,b){return _.isArray(b.dataField)?_.any(b.dataField,function(a){return _.has(this,a)&&!_.isEmpty(this,a)},a):_.has(a,b.dataField)&&!_.isEmpty(a,b.dataField)},g.decompilePredicateString=function(a){if(_.isArray(a))return a;var b=!1;return"-"===a.substr(0,1)&&(a=a.substr(1),b=!0),{column:a,reverse:b}},g.getPresetConfiguration=function(){return _.isNumber(g.columnDisplay.index)||(g.columnDisplay.index=0),g.isPresetCustom()||(g.columnDisplay.config=_.clone(g.getColumnPresets()[g.columnDisplay.index].config)),g.columnDisplay.config},g.getConfig=function(){var a=[];return _.forEach(g.getPresetConfiguration(),function(a){this.visibleColumns.push(this.columns[a])},{visibleColumns:a,columns:g.columnConfiguration}),a},g.getColumnPresets=function(){return _.isEmpty(g.columnPresets)&&(g.columnPresets=[]),g.columnPresets},g.markPresetAsCustom=function(){var a=g.getColumnPresets();_.find(a,{title:"User Preset"})?a[a.length-1].config=g.columnDisplay.config:a.push({title:"User Preset",config:g.columnDisplay.config}),_.isNumber(g.columnDisplay.index)&&(g.columnDisplay.index=a.length-1)},g.getColumnPresetSelects=_.memoize(function(){return _.map(g.getColumnPresets(),function(a,b){return{text:a.title,value:b}})},function(){return _.template("<%=length%>|<%=indices%>",{length:g.getColumnPresets().length,indices:_.last(g.getColumnPresets()).config})}),g.isPresetCustom=function(){return"User Preset"==g.getColumnPresets()[g.columnDisplay.index].title},g.moveColumn=function(a,b){g.isPresetCustom()||g.markPresetAsCustom();var c=g.columnDisplay.config.splice(a,1)[0];g.columnDisplay.config.splice(b,0,c)},g.moveColumnUp=function(a){a>0&&g.moveColumn(a,a-1)},g.moveColumnDown=function(a){a<g.columnDisplay.config.length-1&&g.moveColumn(a,a+1)},g.removeColumn=function(a){g.isPresetCustom()||g.markPresetAsCustom(),g.columnDisplay.config.splice(a,1)},g.showColumn=function(a){g.isPresetCustom()||g.markPresetAsCustom(),_.contains(g.columnDisplay.config,a)||g.columnDisplay.config.push(a)},g.getAvailableColumns=function(){return _.filter(g.columnConfiguration,function(a){return!_.contains(g.columnDisplay.config,a.id)})},g.findColumnFromPredicate=function(a){var b=_.find(g.getConfig(),function(a){return this.pred==this.getSortField(a)},{pred:a,getSortField:g.getSortField});return b||{}},g.parseReverseSort=function(a,b){return _.isObject(a)?a.sortReverse?!b:b:g.parseReverseSort(g.findColumnFromPredicate(a),b)},g.compilePredicateString=function(a,b,c){var d=c?a:g.getSortField(a);return(g.parseReverseSort(a,b)?"-":"")+d},g.singleColumnSort=function(a){g.pagerObject.pageNumber=0,g.sortedBy(a)?g.predicate=[g.compilePredicateString(a,!0)]:g.predicate=[g.compilePredicateString(a)],angular.element(document).data("sortingData",g.getPredicate())},g.addColumnSort=function(a){var b=g.getSortedIndex(a);-1===b?(b=g.getSortedIndex(a,!0),b>=0?g.getPredicate().length>1?g.predicate.splice(b,1):g.predicate[b]=g.compilePredicateString(a):g.predicate.push(g.compilePredicateString(a))):g.predicate[b]=g.compilePredicateString(a,!0)},g.sortable=function(a){return _.isObject(a)?g.disableSorting&&_.has(a,"sortField")?!0:g.disableSorting||a.sortField===!1?!1:!0:!1},g.sort=function(a,b){g.sortable(b)&&(a.shiftKey?g.addColumnSort(b):g.singleColumnSort(b))},g.sortClass=function(a){var b=g.getSortedIndex(a);return-1===b&&(b=g.getSortedIndex(a,!0)),b>=0?"sorted-"+b+"-"+(g.sortedBy(a)?"asc":"desc"):void 0},g.getSortedIndex=function(a,b){var c=g.compilePredicateString(a,b);return g.getPredicate().indexOf(c)},g.isOverflowActive=function(a){return a.offsetWidth<a.scrollWidth},g.hoverTimeouts={},g.cellMouseEnter=function(a){var c=a.target,d=c.parentElement.className+c.className,e=c.querySelector(".data-cell-content");_.has(g.hoverTimeouts,d)&&b.cancel(g.hoverTimeouts[d]),g.hoverTimeouts[d]=b(function(){if(!_.isEmpty(e)&&g.isOverflowActive(e)){var a=e.scrollWidth-e.offsetWidth,d=e.scrollHeight-e.offsetHeight,f=c.cloneNode(!0);f.classList.add("overflow-hover"),f.style.top=c.offsetTop+"px",f.style.left=c.offsetLeft+"px",f.style.width=c.offsetWidth+"px",f.style.height=c.offsetHeight+"px",b(function(){f.style.top=c.offsetTop-d/2+"px",f.style.left=c.offsetLeft-a/2+"px",f.style.width=c.offsetWidth+a+"px",f.style.height=c.scrollHeight+d+"px"},0),f.onmouseleave=function(){c.removeChild(f)},c.appendChild(f)}},500)},g.cellMouseLeave=function(a){var c=a.target,d=c.parentElement.className+c.className,e=c.querySelector(".data-cell .overflow-hover");if(_.has(g.hoverTimeouts,d)&&(b.cancel(g.hoverTimeouts[d]),delete g.hoverTimeouts[d]),e)try{c.removeChild(e)}catch(f){}},g.sortedBy=function(a,b){return g.getSortedIndex(a,b)>=0},g.reversePredicate=function(a){var b=g.decompilePredicateString(g.getPredicate()[a]);_.isEmpty(b.column)||(b.reverse=g.parseReverseSort(b.column,b.reverse),g.predicate[a]=g.compilePredicateString(b.column,!b.reverse,!0))},g.updatePredicate=function(a,b){var c=g.findColumnFromPredicate(b);_.isEmpty(c)||(g.predicate[a]=g.compilePredicateString(c))},g.removePredicate=function(a){g.getPredicate().length>1&&g.predicate.splice(a,1)},g.getSortableColumnSelects=function(){var a=[];return _.forEach(g.getConfig(),function(a){this.retObj.push({text:a.title,value:this.getSortField(a)})},{retObj:a,getSortField:g.getSortField}),_.filter(_.filter(a,"text"),"value")},g.toggleVisibility=function(a){void 0!==a?g.configurationVisible=a:g.configurationVisible=!g.configurationVisible},g.menuShown={},g.toggleMenu=function(a,b){g.isMenuShown(a,b)?g.menuShown={}:g.menuShown={col:b,row:a}},g.isMenuShown=function(a,b){return _.isUndefined(g.menuShown)&&(g.menuShown={}),_.isEqual(g.menuShown,{row:a,col:b})},g.executeAction=function(a,b){_.has(b,"action")&&_.isFunction(b.action)&&(b.action(a),g.menuShown={})},setTimeout(function(){var a=function(a){a.stopPropagation()};angular.element(h[0].querySelector(".data-table-config-container")).on("click",a),angular.element(h[0].querySelector(".menu-column")).on("click",a)},1),g.$watch(g.dataList,function(){var a=function(a){a.stopPropagation()};angular.element(h[0].querySelector(".menu-column")).on("click",a)},!0),c.on("click",function(){this.toggleVisibility(!1)}.bind(g)),g.enableColumnReordering&&!function(){g.dragTarget;var a=function(a){if(a&&(a=angular.element(a),!_.isUndefined(a.attr("class")))){var b=/data-header-cell/,c=/data-column/,d=a.attr("class");return b.test(d)&&c.test(d)}},b=function(a,b){var c,d=angular.element(a);if(b(d[0]))return d;for(;!_.isEmpty(d.parent());){var e=d.parent();if(!e)break;if(b(e[0])){c=e;break}d=e}return c=c?c:void 0};h.on("dragstart",function(a){g.dragTarget=a.target,a.dataTransfer.setData("text/plain",angular.element(g.dragTarget).text())}),h.on("dragend",function(a){g.dragTarget=void 0,a.preventDefault()}),h.on("dragover",function(c){var d=b(c.target,a),e=angular.element(c.target);_.isUndefined(d)||d===e||c.preventDefault()}),h.on("drop",function(c){c.preventDefault();var d=b(c.target,a),e=angular.element(g.dragTarget);if(d!==e){var f={from:void 0,to:void 0},h=function(a){if(a){var b=/data-column-(\d*)/;return b.test(a.attr("class"))?parseInt(b.exec(a.attr("class"))[1])-1:void 0}};f.from=h(e),f.to=h(d),g.moveColumn(f.from,f.to),g.$apply()}})}()}}}),app.filter("UnusedSorts",function(){return function(a,b,c,d){return _.filter(a,function(a){var b="";return _.isObject(a)&&(b=(a.sortField||a.sortField!==!1)&&a.sortField||a.dataField),_.isFunction(d)&&!d(a)?!1:c==b?!0:!(_.contains(this.predicate,b)||_.contains(this.predicate,"-"+b))},{predicate:b})}}),app.filter("ColumnValue",function(a){return function(b,c,d){var e={value:""};d=_.isUndefined(d)?!0:d;var f=_.has(c,"displayField")&&_.has(b,c.displayField)?c.displayField:c.dataField;return _.isArray(f)||(f=[f]),_.forEach(f,function(b,c,d){_.has(this.row,b)&&(_.has(this.column,"filter")?_.has(this.column,"filterParameters")?this.columnValue.value+=a(this.column.filter).apply(this,[this.row[b]].concat(this.column.filterParameters)):this.columnValue.value+=a(this.column.filter)(this.row[b]):this.columnValue.value+=this.row[b],c<d.length-1&&(this.columnValue.value+="\n"))},{columnValue:e,column:c,row:b}),e=e.value,d&&(e=_.isEmpty(e)&&_.has(c,"emptyValue")?c.emptyValue:e),e}}),app.filter("rxDataTableSorting",function(a){var b=a("orderBy");return function(a,c,d){return d.serverPaging?a:b(a,c)}}),angular.module("rxDataTable").directive("rxDataTablePaginate",function(){return{templateUrl:"src/templates/rx-data-table-paginate.html",restrict:"E",replace:!0,scope:{pageTracking:"=",numberOfPages:"@"},link:function(a){a.$watch(function(){return a.pageTracking.total},function(){a.pageTracking.pageNumber>=a.pageTracking.totalPages&&(a.pageTracking.pageNumber=0)})}}}).factory("PageTracking",function(){function a(a){this.MAX_PER_PAGE=50,this.MIN_PER_PAGE=10,this.ITEMS_PER_PAGE_STEP=10,this.itemsPerPage=10,this.pagesToShow=5,this.itemSizeList=[],this.pageNumber=0,this.pageInit=!1,this.total=0,this.serverPaging=!1,this.showAll=a?!0:!1}return{createInstance:function(b){return new a(b)}}}).directive("rxDataTableItemsPerPage",function(a){return{restrict:"E",replace:!0,templateUrl:"src/templates/rx-data-table-itemsPerPage.html",link:function(b){_.isUndefined(b.pagerObject)&&(b.pagerObject=a.createInstance()),b.pagerObject.pageInit||(b.pagerObject.pageInit=!0);try{b.updatePaging=function(a){_.isUndefined(a)?b.pagerObject.itemsPerPage=parseInt(b.pagerObject.itemsPerPage,10):b.pagerObject.itemsPerPage=parseInt(a),b.pagerObject.pageNumber=0}.bind(b)}catch(c){}b.pagerObject.itemSizeList=_.range(b.pagerObject.MIN_PER_PAGE,b.pagerObject.MAX_PER_PAGE+b.pagerObject.ITEMS_PER_PAGE_STEP,b.pagerObject.ITEMS_PER_PAGE_STEP)}}}).filter("Paginate",function(a){return function(b,c){if(c||(c=a.createInstance()),c.showAll)return c.total=b.length,b;if(b){c.serverPaging?_.isNumber(c.total)||(c.total=0):c.total=b.length,c.totalPages=Math.ceil(c.total/c.itemsPerPage);var d=c.serverPaging?1:0,e=c.pageNumber*c.itemsPerPage,f=e+c.itemsPerPage,g=(f>b.length?b.length:f)-d;return c.first=parseInt(e+1,10),c.last=parseInt(g,10),c.serverPaging&&(c.last+=c.first),c.serverPaging?b:b.slice(e,g)}}}).filter("Page",function(a){return function(b){b||(b=a.createInstance());var c=[],d=b.pagesToShow||5,e=(d-1)/2,f=Math.ceil(e),g=Math.floor(e);if(b&&0!==b.length){var h=Math.max(Math.min(b.pageNumber-g,b.totalPages-d),0),i=Math.min(Math.max(b.pageNumber+f,d-1),b.totalPages-1);for(h;i>=h;h++)c.push(h)}return c}}),angular.module("rxDataTable").run(["$templateCache",function(a){a.put("src/templates/rx-data-table-itemsPerPage.html",'<span class="pagination-items-per-page"> Show: <a ng-repeat-start="i in pagerObject.itemSizeList" ng-click="updatePaging(i)" ng-class="{ disabled: pagerObject.itemsPerPage===i }">{{ i }}</a> <span ng-repeat-end ng-show="!$last">|</span> </span> '),a.put("src/templates/rx-data-table-paginate.html",'<ul class="pagination"> <li ng-class="{disabled: pageTracking.pageNumber==0}" class="pagination-first"> <a ng-click="pageTracking.pageNumber=0" ng-hide="pageTracking.pageNumber==0">First</a> <span ng-show="pageTracking.pageNumber==0">First</span> </li> <li ng-class="{disabled: pageTracking.pageNumber==0}" class="pagination-prev"> <a ng-click="pageTracking.pageNumber=(pageTracking.pageNumber - 1)" ng-hide="pageTracking.pageNumber==0">« Prev</a> <span ng-show="pageTracking.pageNumber==0">« Prev</span> </li> <li ng-repeat="n in pageTracking | Page " ng-class="{active: n==pageTracking.pageNumber, \'page-number-last\': n==pageTracking.totalPages - 1}" class="pagination-page"> <a ng-click="pageTracking.pageNumber=n">{{n + 1}}</a> </li> <li ng-class="{disabled: pageTracking.pageNumber==pageTracking.totalPages - 1 || pageTracking.total==0}" class="pagination-next"> <a ng-click="pageTracking.pageNumber=(pageTracking.pageNumber + 1)" ng-hide="pageTracking.pageNumber==pageTracking.totalPages - 1 || pageTracking.total==0"> Next »</a> <span ng-show="pageTracking.pageNumber==pageTracking.totalPages - 1">Next »</span> </li> <li ng-class="{disabled: pageTracking.pageNumber==pageTracking.totalPages - 1}" class="pagination-last"> <a ng-click="pageTracking.pageNumber=pageTracking.totalPages - 1" ng-hide="pageTracking.pageNumber==pageTracking.totalPages - 1">Last</a> <span ng-show="pageTracking.pageNumber==pageTracking.totalPages - 1">Last</span> </li> </ul> '),a.put("src/templates/rx-data-table.html",'<div class="data-table"> <div class=\'alert\' ng-show="updateFieldStatus" ng-class="{\'loading\': updateFieldStatus.status==\'saving\', \'success\': updateFieldStatus.status==\'success\', \'error\': updateFieldStatus.status==\'error\'}"> {{ updateFieldStatus.message }} </div> <div class="data-info-row"> <div class="data-table-config-container" ng-if="enableColumnReordering||enableColumnMultiSort" ng-class="{\'dropdown-shown\': configurationVisible}"> <button class="btn-link" ng-click="toggleVisibility()"> <i class="fa fa-table data-table-config-icon" title="Configure Data Table"></i> </button> <div class="data-table-config reveal-animation" ng-show="configurationVisible"> <div class="header" ng-if="enableColumnMultiSort">Sorting</div> <div class="data-table-multi-sort" ng-if="enableColumnMultiSort"> <div class="data-config-row"> <div class="multi-sort-select header">Column</div> <div class="multi-sort-reverse-icon header">Dir</div> <div class="multi-sort-remove-icon header"><span ng-show="predicate.length> 1">Rem</span></div> </div> <div class="data-config-row" ng-repeat="pred in predicate" ng-init="predColumn=decompilePredicateString(pred)"> <div class="multi-sort-select"> <select rx-select name="sort-{{$index}}" ng-model="predColumn.column" ng-change="updatePredicate($index, predColumn.column)"> <option ng-repeat="column in getConfig() | UnusedSorts:predicate:predColumn.column:sortable" value="{{ getSortField(column) }}" ng-selected="getSortField(column)==predColumn.column">{{ column.title }}</option> </select> </div> <button class="btn-link multi-sort-reverse-icon" ng-click="reversePredicate($index)"> <i class="fa" ng-class="{\'fa-sort-amount-asc\': !parseReverseSort(predColumn.column, predColumn.reverse), \'fa-sort-amount-desc\': parseReverseSort(predColumn.column, predColumn.reverse)}"></i> </button> <div class="multi-sort-remove-icon"> <button class="btn-link" ng-click="removePredicate($index)"> <i class="fa fa-times" ng-if="predicate.length> 1"></i> </button> </div> </div> <button class="btn-link multi-sort-add" ng-if="canAddNewMultiSort()" ng-click="predicate.push(\'\')"> Add New Sort </button> </div> <div class="header" ng-if="enableColumnReordering">Column Configuration</div> <div class="data-table-column-display" ng-if="enableColumnReordering"> <div class="data-config-row"> <div class="header">Column Presets</div> </div> <div class="data-config-row column-preset-row"> <select rx-select ng-options="getColumnPresets().indexOf(preset) as preset.title for preset in getColumnPresets()" ng-model="columnDisplay.index"></select> </div> <div class="data-config-row"> <div class="header">Column Order</div> </div> <div class="data-config-row" ng-repeat="column in getConfig()"> <div class="data-config-column-title"> {{ column.title }} </div> <div class="column-order-arrows"> <button class="btn-link btn-move-down" ng-if="!$last" ng-click="moveColumnDown($index)"> <i class="fa fa-arrow-down"></i> </button> <button class="btn-link btn-move-up" ng-if="!$first" ng-click="moveColumnUp($index)"> <i class="fa fa-arrow-up"></i> </button> </div> <div class="column-hide-display"> <button class="btn-link" ng-click="removeColumn($index)"> <i class="fa fa-times"></i> </button> </div> </div> <div class="data-config-row" ng-if="getAvailableColumns().length> 0"> <div class="header">Available Columns</div> </div> <div class="data-config-row column-show-columns" ng-if="getAvailableColumns().length> 0"> <select rx-select ng-model="addColumn.index" ng-options="column.id as column.title for column in getAvailableColumns()"> </select> <button ng-click="showColumn(addColumn.index)" class="button button-tiny">add</button> </div> </div> </div> </div> </div> <div class="data-header"> <div class="data-header-cell data-column-{{ $index + 1 }} flex-columns-{{ column.cols }}" ng-repeat="column in getConfig()" data-title="{{ column.title && column.title || column.dataField }}" ng-class="sortClass(column, $index)" draggable="true" ng-click="sort($event, column)" popover="{{ column.help.body }}" popover-append-to-body="true" popover-popup-delay="1500" popover-title="{{ column.help.title }}" popover-trigger="mouseenter"> <span class="checkbox-span" ng-if="column.checkbox && column.checkAll"> <input ng-click="checkAll(this)" type="checkbox" id="check_all_checkbox"> </span> <span ng-if="!column.checkbox" class="btn-link data-link" style="text-decoration: none"> <span class=\'data-header-cell-content\'>{{ column.title }}</span> <i ng-if="column.help" class="fa fa-question-circle"></i> <i class="fa fa-chevron-down" ng-show="sortedBy(column, true)"></i> <i class="fa fa-chevron-up" ng-show="sortedBy(column)"></i> </span> </div> <div class="data-header-cell data-header-expander" ng-if="showRowDetails"></div> </div> <div class="data-loader" ng-if="loadingData()"> <div class="spinner-container"> <div class="spinner"></div> <div class="loader-text">Loading...</div> </div> </div> <div class="data-row data-row-{{ $index + 1}}" ng-repeat="row in listOfData() | rxDataTableSorting:predicate:pagerObject | Paginate:pagerObject track by row[rowKey]||$index" data-row-key="{{row[rowKey]}}" ng-class="rowClass(row)"> <div class="data-row-prefix" ng-if="rowPrefixClause===\'true\'"> <div class="prefix-container" ng-if="shouldHaveRowPrefix(row)" ng-bind-html="rowPrefix()(row)"> </div> </div> <div class="data-cell flex-columns-{{ column.cols }} data-column-{{ $index + 1}} {{ column.class }}" ng-repeat="column in getConfig()" data-title="{{ column.title }}" ng-class="getNGClass(column, row)" ng-mouseenter="cellMouseEnter($event)" ng-mouseleave="cellMouseLeave($event)"> <div ng-if="column.checkbox" class="checkbox"> <input type="checkbox" value="{{ row[column.dataField] }}" ng-click="clickAction(\'{{ row[column.dataField] }}\')" id="checkbox_{{ row[column.dataField] }}"> </div> <div ng-if="column.menu" class="menu-column"> <button class="menu-toggle btn-link" ng-click="toggleMenu(row, column)"> <i ng-if="!column.menu.icon" class="fa fa-cog fa-lg"></i> <i ng-if="column.menu.icon" class="fa" ng-class="column.menu.icon"></i> </button> <ul class="menu-items" ng-show="isMenuShown(row, column)"> <li class="menu-item" ng-repeat="menuItem in column.menu.items"> <button class="btn-link" ng-class="menuItem.class" ng-click="executeAction(row, menuItem)"> <i ng-if="menuItem.icon" class="fa" ng-class="menuItem.icon"></i> <span class="menu-item-text">{{ menuItem.text }}</span> </button> </li> </ul> </div> <div ng-if="!column.checkbox && !column.menu"> <i ng-repeat="icon in iconUnwrap(column, row, \'i\')" class="data-table-cell-icon {{ icon.name }}" tooltip="{{ icon.tooltip.text }}" tooltip-append-to-body="true" tooltip-placement="{{ (icon.tooltip.placement) ? icon.tooltip.placement : \'top\' }}"></i> <div ng-repeat="icon in iconUnwrap(column, row, \'div\')" class="data-table-cell-icon {{ icon.class }}" alt="{{ icon.alt }}" tooltip="{{ icon.tooltip.text }}" tooltip-append-to-body="true" tooltip-placement="{{ (icon.tooltip.placement) ? icon.tooltip.placement : \'top\' }}"></div> <span ng-if="buildContent(row, column)" class="data-cell-content" ng-bind-html="buildContent(row, column)"></span> <a ng-if="!buildContent(row, column) && buildLink(row, column) && hasValue(row, column)" href="{{ buildLink(row, column) }}" class="data-cell-content" target="{{ (column.linkTarget) ? column.linkTarget : \'_blank\' }}">{{ row | ColumnValue:column }}</a> <span ng-if="!buildContent(row, column) && !buildLink(row, column) && hasValue(row, column)" class="data-cell-content"> <span ng-if="!allowEditing(column,row) && column.dataField !=\'score\'">{{ row | ColumnValue:column:false }}</span> <span ng-if="!allowEditing(column,row) && column.dataField===\'score\'" popover="{{scoreTooltipTemplate(row)}}" popover-title="{{maxResponseCalculation(row)}}" popover-append-to-body="true" popover-placement="right" popover-trigger="mouseenter">{{ row | ColumnValue:column }}</span> <span ng-if="allowEditing(column,row)" class="data-editable"> <span ng-switch="getEditType(column, row)"> <span ng-switch-when="select" class="data-editable-field" editable-select="row[column.dataField]" e-ng-options="o.value as o.text for o in getEditableOptions(column, row)" buttons="no" onbeforesave="updateField(column, row, $data, this)">{{ row | ColumnValue:column }}</span> <span ng-switch-when="typeahead" class="data-editable-field" editable-text="row[column.dataField]" e-typeahead="o.value as o.text for o in getEditableOptions(column, row, $viewValue) | filter:$viewValue" e-typeahead-on-select="updateField(column, row, $data, this)" buttons="no" onshow="getEditableOptions(column, row)">{{ row | ColumnValue:column }}</span> <span ng-switch-default class="data-editable-field" editable-text="row[column.dataField]" onbeforesave="updateField(column, row, $data, this)">{{ row | ColumnValue:column }}</span> <button class="data-table-field-nullable btn-link" ng-if="column.editable.nullable" ng-click="nullField(column, row, this)" title="Remove {{ column.title }} Value"> <i class="fa fa-times fa-lg"></i> </button> </span> </span> </span> </div> </div> <div class="data-row-expander" ng-if="showRowDetails"> <button class="data-row-expansion" ng-show="canExpandRow(row)" ng-click="toggleRow(row[rowKey])" ng-class="{\'expanded\': currentRow==row[rowKey]}"> <div class="expander-icon"></div> &nbsp; </button> </div> </div> <div ng-if="!pagerObject.showAll" class="pagination-container" ng-show="pagerObject.total> 0"> <div class="cell"><span ng-if="!pagerObject.showAll">{{(pagerObject.last == 0) ? \'0\' : pagerObject.first}} - {{pagerObject.last}} of <span class=\'total-data-items\'>{{pagerObject.total}} {{ itemName && itemName || \'Items\' }}</span></span></div> <div class="cell"><rx-data-table-paginate page-tracking="pagerObject"></rx-data-table-paginate></div> <div class="cell"><rx-data-table-items-per-page></rx-data-table-items-per-page></div> </div> </div> ')}]);
//# sourceMappingURL=dist/scripts/rx-data-table.min.map